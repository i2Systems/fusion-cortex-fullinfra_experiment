@tailwind base;
@tailwind components;
@tailwind utilities;

/**
 * Fusion/Cortex Design Tokens
 * 
 * All design values are defined as CSS custom properties (variables)
 * for easy theming and consistency. Avoid hard-coding colors, spacing,
 * or other design values - always use these tokens.
 * 
 * AI Note: When modifying styles, always reference these tokens.
 * To change the theme, modify the values here rather than individual components.
 */

:root {
  /* ============================================
     COLOR PALETTE - DARK THEME (default)
     Dark Fluent Glass Morphism with 80's Neon Vibe
     ============================================ */
  
  /* Backgrounds - Dark glass morphism base */
  --color-bg: #0a0e1a;
  --color-bg-elevated: #111827;
  --color-surface: rgba(17, 24, 39, 0.6);
  --color-surface-subtle: rgba(31, 41, 55, 0.4);
  
  /* Borders - Subtle with neon cyan glow */
  --color-border-subtle: rgba(0, 217, 255, 0.2);
  --color-border-strong: rgba(0, 217, 255, 0.4);
  
  /* Primary brand color - 80's cyan/blue neon */
  --color-primary: #00d9ff;
  --color-primary-soft: rgba(0, 217, 255, 0.15);
  --color-primary-hover: #00ffff;
  --color-primary-strong: #0099cc;
  
  /* Accent & status colors - 80's neon palette */
  --color-accent: #ff00ff; /* Magenta */
  --color-danger: #ff3366; /* Hot pink */
  --color-success: #00ff88; /* Neon green */
  --color-warning: #ffcc00; /* Bright yellow */
  
  /* Text colors - Brighter for visibility */
  --color-text: #ffffff;
  --color-text-muted: #b8c5d6;
  --color-text-soft: #8b9dc3;
  --color-text-on-primary: #000000;
  
  /* Tooltip colors - Glass morphism with neon border */
  --color-tooltip-bg: rgba(17, 24, 39, 0.95);
  --color-tooltip-border: var(--color-primary);
  --color-tooltip-text: var(--color-text);
  --color-tooltip-shadow: rgba(0, 0, 0, 0.5);

  /* ============================================
     SPACING SCALE (scales automatically with root font-size)
     ============================================ */
  --font-size-multiplier: 1.125; /* Default to medium (mildly bigger) - used for reference */
  --space-0: 0;
  --space-1: 0.25rem;  /* 4px - scales with root font-size */
  --space-2: 0.5rem;   /* 8px - scales with root font-size */
  --space-3: 0.75rem;  /* 12px - scales with root font-size */
  --space-4: 1rem;     /* 16px - scales with root font-size */
  --space-5: 1.25rem;  /* 20px - scales with root font-size */
  --space-6: 1.5rem;   /* 24px - scales with root font-size */
  --space-8: 2rem;     /* 32px - scales with root font-size */
  --space-10: 2.5rem;  /* 40px - scales with root font-size */
  --space-12: 3rem;    /* 48px - scales with root font-size */
  --space-16: 4rem;    /* 64px - scales with root font-size */
  --space-20: 5rem;    /* 80px - scales with root font-size */

  /* ============================================
     BORDER RADIUS
     ============================================ */
  --radius-xs: 4px;
  --radius-sm: 6px;
  --radius-md: 8px;
  --radius-lg: 12px;
  --radius-xl: 18px;
  --radius-2xl: 24px;
  --radius-pill: 999px;

  /* ============================================
     SHADOWS & GLOWS (80's neon effects - refined and subtle)
     ============================================ */
  --shadow-soft: 0 4px 12px rgba(0, 0, 0, 0.4);
  --shadow-md: 0 12px 30px rgba(0, 0, 0, 0.5);
  --shadow-strong: 0 24px 60px rgba(0, 0, 0, 0.6);
  --shadow-glow-primary: 0 0 12px rgba(0, 217, 255, 0.25), 0 0 24px rgba(0, 217, 255, 0.1);
  --shadow-glow-accent: 0 0 10px rgba(255, 0, 255, 0.2), 0 0 20px rgba(255, 0, 255, 0.08);
  --shadow-glow-hover: 0 0 16px rgba(0, 217, 255, 0.3), 0 0 32px rgba(0, 217, 255, 0.12);
  
  /* Glow effects - separate from shadows for edge glows (refined and subtle) */
  --glow-primary: 0 0 12px rgba(0, 217, 255, 0.2), 0 0 24px rgba(0, 217, 255, 0.1);
  --glow-modal: 0 0 24px rgba(0, 217, 255, 0.25), 0 0 48px rgba(0, 217, 255, 0.15), 0 0 72px rgba(0, 217, 255, 0.08);
  --glow-accent: 0 0 16px rgba(255, 0, 255, 0.25), 0 0 32px rgba(255, 0, 255, 0.12);
  --glow-strong: 0 0 32px rgba(0, 217, 255, 0.35), 0 0 64px rgba(0, 217, 255, 0.2), 0 0 96px rgba(0, 217, 255, 0.1);

  /* ============================================
     BORDERS
     ============================================ */
  --border-width-thin: 1px;
  --border-width-thick: 2px;

  /* ============================================
     TYPOGRAPHY
     ============================================ */
  --font-family-primary: var(--font-sans, system-ui, -apple-system, BlinkMacSystemFont, "SF Pro Text", "Segoe UI", Roboto, sans-serif);
  --font-sans: system-ui, -apple-system, BlinkMacSystemFont, "SF Pro Text", "Segoe UI", Roboto, sans-serif;
  --font-mono: "JetBrains Mono", ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
  
  /* Base font size - will be overridden by FontContext (default: 16px for normal) */
  --font-size-base: 16px;
  --font-size-multiplier: 1.0;
  
  /* Font sizes scale with base size */
  --font-size-xs: calc(0.75 * var(--font-size-base));
  --font-size-sm: calc(0.875 * var(--font-size-base));
  --font-size-md: var(--font-size-base);
  --font-size-lg: calc(1.125 * var(--font-size-base));
  --font-size-xl: calc(1.25 * var(--font-size-base));
  --font-size-2xl: calc(1.5 * var(--font-size-base));
  --font-size-3xl: calc(1.875 * var(--font-size-base));
  
  --line-height-tight: 1.1;
  --line-height-snug: 1.25;
  --line-height-normal: 1.5;
  --line-height-relaxed: 1.75;

  /* ============================================
     TRANSITIONS & ANIMATIONS
     ============================================ */
  --transition-fast: 120ms ease-out;
  --transition-normal: 180ms ease;
  --transition-slow: 240ms ease-in-out;
  --transition-panel: 300ms cubic-bezier(0.4, 0, 0.2, 1);

  /* ============================================
     Z-INDEX LAYERS
     ============================================ */
  --z-base: 0;
  --z-nav: 100;
  --z-panel: 200;
  --z-drawer: 300;
  --z-modal: 400;
  --z-toast: 500;

  /* ============================================
     GLASS & MATERIALITY EFFECTS
     ============================================ */
  /* Glass morphism - blur and opacity */
  --glass-blur: 20px;
  --glass-blur-strong: 40px;
  --glass-opacity: 0.6;
  --glass-opacity-strong: 0.8;
  
  /* Neumorphism - soft shadows for depth */
  --neumorphism-shadow-inset: inset 2px 2px 5px rgba(0, 0, 0, 0.1), inset -2px -2px 5px rgba(255, 255, 255, 0.1);
  --neumorphism-shadow-outset: 8px 8px 16px rgba(0, 0, 0, 0.1), -8px -8px 16px rgba(255, 255, 255, 0.1);
  --neumorphism-shadow-pressed: inset 4px 4px 8px rgba(0, 0, 0, 0.15), inset -4px -4px 8px rgba(255, 255, 255, 0.1);
  
  /* Acrylic (Fluent) - tint and blur */
  --acrylic-tint: rgba(255, 255, 255, 0.1);
  --acrylic-tint-dark: rgba(0, 0, 0, 0.1);
  --acrylic-blur: 30px;
  --acrylic-opacity: 0.7;
}

/* ============================================
   BASE STYLES
   ============================================ */
* {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

html,
body {
  height: 100%;
  overflow: hidden; /* Prevent body scroll, app handles it */
}

body {
  background: linear-gradient(135deg, var(--color-bg) 0%, #0f172a 100%);
  background-attachment: fixed;
  color: var(--color-text);
  font-family: var(--font-family-primary, var(--font-sans));
  font-size: var(--font-size-base);
  line-height: var(--line-height-normal);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  font-weight: 400;
}

/* ============================================
   UTILITY CLASSES
   ============================================ */

/* Card component base - Glass morphism */
.fusion-card {
  background: var(--color-surface);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border-radius: var(--radius-xl);
  box-shadow: var(--shadow-soft);
  border: var(--border-width-thin) solid var(--color-border-subtle);
  padding: var(--space-6);
  transition: all var(--transition-normal);
}

.fusion-card:hover {
  border-color: var(--color-border-strong);
  box-shadow: var(--shadow-soft), var(--shadow-glow-primary);
}

/* Button base styles - Neon glow on hover */
.fusion-button {
  padding: var(--space-3) var(--space-6);
  border-radius: var(--radius-md);
  font-size: var(--font-size-sm);
  font-weight: 600;
  transition: all var(--transition-normal);
  border: 1px solid transparent;
  cursor: pointer;
  display: inline-flex;
  align-items: center;
  gap: var(--space-2);
  position: relative;
}

.fusion-button-primary {
  background: var(--color-primary);
  color: var(--color-text-on-primary);
  box-shadow: 0 0 8px rgba(0, 217, 255, 0.2), 0 0 16px rgba(0, 217, 255, 0.08);
}

.fusion-button-primary:hover {
  background: var(--color-primary-hover);
  box-shadow: var(--shadow-glow-hover);
  transform: translateY(-1px);
}

/* Scrollbar styling */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  background: var(--color-bg);
}

::-webkit-scrollbar-thumb {
  background: var(--color-border-strong);
  border-radius: var(--radius-pill);
}

::-webkit-scrollbar-thumb:hover {
  background: var(--color-primary);
  box-shadow: 0 0 6px rgba(0, 217, 255, 0.3), 0 0 12px rgba(0, 217, 255, 0.15);
}

/* ============================================
   TOKEN SYSTEM - Consistent Information Widgets
   ============================================ */
/* Base token styles - consistent padding, border radius, font - TIGHT */
.token {
  display: inline-flex;
  align-items: center;
  gap: 0.25rem;
  padding: 0.1875rem 0.5rem;
  border-radius: var(--radius-sm);
  font-size: var(--font-size-xs);
  font-weight: 500;
  line-height: 1.2;
  white-space: nowrap;
  transition: all var(--transition-fast);
}

/* Semantic Status Tokens - with colored backgrounds and borders for high contrast */
.token-status-online,
.token-status-active,
.token-status-success {
  background: rgba(0, 255, 136, 0.15);
  color: #00ff88;
  border: 1px solid rgba(0, 255, 136, 0.3);
}

.token-status-offline,
.token-status-disabled,
.token-status-inactive,
.token-status-not-assigned {
  background: rgba(184, 197, 214, 0.15);
  color: #b8c5d6;
  border: 1px solid rgba(184, 197, 214, 0.25);
}

.token-status-error,
.token-status-danger,
.token-status-missing {
  background: rgba(255, 51, 102, 0.15);
  color: #ff3366;
  border: 1px solid rgba(255, 51, 102, 0.3);
}

.token-status-warning {
  background: rgba(255, 204, 0, 0.15);
  color: #ffcc00;
  border: 1px solid rgba(255, 204, 0, 0.3);
}

.token-status-info {
  background: rgba(0, 217, 255, 0.15);
  color: #00d9ff;
  border: 1px solid rgba(0, 217, 255, 0.3);
}

/* Light theme overrides - darker hues for better contrast */
[data-theme="light"] .token-status-online,
[data-theme="light"] .token-status-active,
[data-theme="light"] .token-status-success {
  background: rgba(40, 167, 69, 0.2);
  color: #0a2e15;
  border: 1px solid rgba(40, 167, 69, 0.4);
}

[data-theme="light"] .token-status-offline,
[data-theme="light"] .token-status-disabled,
[data-theme="light"] .token-status-inactive,
[data-theme="light"] .token-status-not-assigned {
  background: rgba(108, 117, 125, 0.15);
  color: #6c757d;
  border: 1px solid rgba(108, 117, 125, 0.3);
}

[data-theme="light"] .token-status-error,
[data-theme="light"] .token-status-danger,
[data-theme="light"] .token-status-missing {
  background: rgba(220, 53, 69, 0.2);
  color: #dc3545;
  border: 1px solid rgba(220, 53, 69, 0.4);
}

[data-theme="light"] .token-status-warning {
  background: rgba(255, 193, 7, 0.3);
  color: #856404;
  border: 1px solid rgba(255, 193, 7, 0.6);
}

[data-theme="light"] .token-status-info {
  background: rgba(13, 110, 253, 0.2);
  color: #0d6efd;
  border: 1px solid rgba(13, 110, 253, 0.4);
}

/* Type Tokens - for categorizing items (rules, overrides, schedules, device types) */
.token-type-rule {
  background: rgba(184, 197, 214, 0.1);
  color: var(--color-text-muted);
  border: 1px solid var(--color-border-subtle);
}

/* Light theme overrides for rule type - better contrast */
[data-theme="light"] .token-type-rule {
  background: rgba(108, 117, 125, 0.15);
  color: #495057;
  border: 1px solid rgba(108, 117, 125, 0.3);
}

.token-type-override {
  background: rgba(255, 204, 0, 0.15);
  color: #ffcc00;
  border: 1px solid rgba(255, 204, 0, 0.3);
}

.token-type-schedule {
  background: rgba(0, 217, 255, 0.15);
  color: #00d9ff;
  border: 1px solid rgba(0, 217, 255, 0.3);
}

.token-type-fixture {
  background: rgba(0, 217, 255, 0.1);
  color: var(--color-primary);
  border: 1px solid rgba(0, 217, 255, 0.2);
}

.token-type-motion-sensor {
  background: rgba(255, 0, 255, 0.1);
  color: var(--color-accent);
  border: 1px solid rgba(255, 0, 255, 0.2);
}

.token-type-light-sensor {
  background: rgba(0, 255, 136, 0.1);
  color: var(--color-success);
  border: 1px solid rgba(0, 255, 136, 0.2);
}

/* Light theme overrides for type tokens */
[data-theme="light"] .token-type-override {
  background: rgba(255, 193, 7, 0.3);
  color: #856404;
  border: 1px solid rgba(255, 193, 7, 0.6);
}

[data-theme="light"] .token-type-schedule {
  background: rgba(13, 110, 253, 0.2);
  color: #0d6efd;
  border: 1px solid rgba(13, 110, 253, 0.4);
}

[data-theme="light"] .token-type-fixture {
  background: rgba(76, 125, 255, 0.15);
  color: var(--color-primary);
  border: 1px solid rgba(76, 125, 255, 0.3);
}

[data-theme="light"] .token-type-motion-sensor {
  background: rgba(249, 115, 22, 0.15);
  color: var(--color-accent);
  border: 1px solid rgba(249, 115, 22, 0.3);
}

[data-theme="light"] .token-type-light-sensor {
  background: rgba(0, 200, 100, 0.2);
  color: #008855;
  border: 1px solid rgba(0, 200, 100, 0.4);
}

/* Data Visualization Tokens - transparent backgrounds for metrics */
.token-data {
  background: transparent;
  color: var(--color-text-muted);
  border: none;
  padding: 0.125rem 0.375rem;
}

.token-data-signal-high,
.token-data-battery-high {
  color: #00ff88;
}

.token-data-signal-medium,
.token-data-battery-medium {
  color: #ffcc00;
}

.token-data-signal-low,
.token-data-battery-low {
  color: #ff3366;
}

.token-data-percentage {
  color: var(--color-text);
  font-weight: 600;
}

/* Light theme overrides for data tokens - dark versions of the same hues for excellent readability */
[data-theme="light"] .token-data-signal-high,
[data-theme="light"] .token-data-battery-high {
  color: #004d33;
}

[data-theme="light"] .token-data-signal-medium,
[data-theme="light"] .token-data-battery-medium {
  color: #664d00;
}

[data-theme="light"] .token-data-signal-low,
[data-theme="light"] .token-data-battery-low {
  color: #a01e2e;
}

/* Warm Day theme overrides - darker hues for better contrast */
[data-theme="warm-day"] .token-status-online,
[data-theme="warm-day"] .token-status-active,
[data-theme="warm-day"] .token-status-success {
  background: rgba(0, 180, 90, 0.25);
  color: #006644;
  border: 1px solid rgba(0, 180, 90, 0.5);
}

[data-theme="warm-day"] .token-status-offline,
[data-theme="warm-day"] .token-status-disabled,
[data-theme="warm-day"] .token-status-inactive,
[data-theme="warm-day"] .token-status-not-assigned {
  background: rgba(108, 117, 125, 0.2);
  color: #6c757d;
  border: 1px solid rgba(108, 117, 125, 0.35);
}

[data-theme="warm-day"] .token-status-error,
[data-theme="warm-day"] .token-status-danger,
[data-theme="warm-day"] .token-status-missing {
  background: rgba(220, 53, 69, 0.25);
  color: #c82333;
  border: 1px solid rgba(220, 53, 69, 0.5);
}

[data-theme="warm-day"] .token-status-warning {
  background: rgba(255, 140, 66, 0.35);
  color: #a85500;
  border: 1px solid rgba(255, 140, 66, 0.65);
}

[data-theme="warm-day"] .token-type-rule {
  background: rgba(108, 117, 125, 0.18);
  color: #495057;
  border: 1px solid rgba(108, 117, 125, 0.35);
}

[data-theme="warm-day"] .token-type-override {
  background: rgba(255, 140, 66, 0.35);
  color: #a85500;
  border: 1px solid rgba(255, 140, 66, 0.65);
}

[data-theme="warm-day"] .token-status-info {
  background: rgba(13, 110, 253, 0.25);
  color: #0a58ca;
  border: 1px solid rgba(13, 110, 253, 0.5);
}

[data-theme="warm-day"] .token-type-override {
  background: rgba(255, 140, 66, 0.3);
  color: #cc6a00;
  border: 1px solid rgba(255, 140, 66, 0.6);
}

[data-theme="warm-day"] .token-type-schedule {
  background: rgba(13, 110, 253, 0.25);
  color: #0a58ca;
  border: 1px solid rgba(13, 110, 253, 0.5);
}

[data-theme="warm-day"] .token-data-signal-high,
[data-theme="warm-day"] .token-data-battery-high {
  color: #004d33;
}

[data-theme="warm-day"] .token-data-signal-medium,
[data-theme="warm-day"] .token-data-battery-medium {
  color: #a85500;
}

[data-theme="warm-day"] .token-data-signal-low,
[data-theme="warm-day"] .token-data-battery-low {
  color: #a01e2e;
}

/* Glass Neumorphism theme - light mode variant - same dark token colors */
[data-theme="glass-neumorphism"] .token-status-online,
[data-theme="glass-neumorphism"] .token-status-active,
[data-theme="glass-neumorphism"] .token-status-success {
  background: rgba(40, 167, 69, 0.2);
  color: #0a2e15;
  border: 1px solid rgba(40, 167, 69, 0.4);
}

[data-theme="glass-neumorphism"] .token-status-offline,
[data-theme="glass-neumorphism"] .token-status-disabled,
[data-theme="glass-neumorphism"] .token-status-inactive,
[data-theme="glass-neumorphism"] .token-status-not-assigned {
  background: rgba(108, 117, 125, 0.15);
  color: #6c757d;
  border: 1px solid rgba(108, 117, 125, 0.3);
}

[data-theme="glass-neumorphism"] .token-status-error,
[data-theme="glass-neumorphism"] .token-status-danger,
[data-theme="glass-neumorphism"] .token-status-missing {
  background: rgba(220, 53, 69, 0.2);
  color: #dc3545;
  border: 1px solid rgba(220, 53, 69, 0.4);
}

[data-theme="glass-neumorphism"] .token-status-warning {
  background: rgba(255, 193, 7, 0.3);
  color: #856404;
  border: 1px solid rgba(255, 193, 7, 0.6);
}

[data-theme="glass-neumorphism"] .token-status-info {
  background: rgba(13, 110, 253, 0.2);
  color: #0d6efd;
  border: 1px solid rgba(13, 110, 253, 0.4);
}

[data-theme="glass-neumorphism"] .token-type-rule {
  background: rgba(108, 117, 125, 0.15);
  color: #495057;
  border: 1px solid rgba(108, 117, 125, 0.3);
}

[data-theme="glass-neumorphism"] .token-type-override {
  background: rgba(255, 193, 7, 0.3);
  color: #856404;
  border: 1px solid rgba(255, 193, 7, 0.6);
}

[data-theme="glass-neumorphism"] .token-type-schedule {
  background: rgba(13, 110, 253, 0.2);
  color: #0d6efd;
  border: 1px solid rgba(13, 110, 253, 0.4);
}

[data-theme="glass-neumorphism"] .token-data-signal-high,
[data-theme="glass-neumorphism"] .token-data-battery-high {
  color: #004d33;
}

[data-theme="glass-neumorphism"] .token-data-signal-medium,
[data-theme="glass-neumorphism"] .token-data-battery-medium {
  color: #664d00;
}

[data-theme="glass-neumorphism"] .token-data-signal-low,
[data-theme="glass-neumorphism"] .token-data-battery-low {
  color: #a01e2e;
}

/* On Brand Glass theme - light mode variant - same dark token colors */
[data-theme="on-brand-glass"] .token-status-online,
[data-theme="on-brand-glass"] .token-status-active,
[data-theme="on-brand-glass"] .token-status-success {
  background: rgba(40, 167, 69, 0.2);
  color: #0a2e15;
  border: 1px solid rgba(40, 167, 69, 0.4);
}

[data-theme="on-brand-glass"] .token-status-offline,
[data-theme="on-brand-glass"] .token-status-disabled,
[data-theme="on-brand-glass"] .token-status-inactive,
[data-theme="on-brand-glass"] .token-status-not-assigned {
  background: rgba(108, 117, 125, 0.15);
  color: #6c757d;
  border: 1px solid rgba(108, 117, 125, 0.3);
}

[data-theme="on-brand-glass"] .token-status-error,
[data-theme="on-brand-glass"] .token-status-danger,
[data-theme="on-brand-glass"] .token-status-missing {
  background: rgba(220, 53, 69, 0.2);
  color: #dc3545;
  border: 1px solid rgba(220, 53, 69, 0.4);
}

[data-theme="on-brand-glass"] .token-status-warning {
  background: rgba(255, 193, 7, 0.3);
  color: #856404;
  border: 1px solid rgba(255, 193, 7, 0.6);
}

[data-theme="on-brand-glass"] .token-status-info {
  background: rgba(13, 110, 253, 0.2);
  color: #0d6efd;
  border: 1px solid rgba(13, 110, 253, 0.4);
}

[data-theme="on-brand-glass"] .token-type-rule {
  background: rgba(108, 117, 125, 0.15);
  color: #495057;
  border: 1px solid rgba(108, 117, 125, 0.3);
}

[data-theme="on-brand-glass"] .token-type-override {
  background: rgba(255, 193, 7, 0.3);
  color: #856404;
  border: 1px solid rgba(255, 193, 7, 0.6);
}

[data-theme="on-brand-glass"] .token-type-schedule {
  background: rgba(13, 110, 253, 0.2);
  color: #0d6efd;
  border: 1px solid rgba(13, 110, 253, 0.4);
}

[data-theme="on-brand-glass"] .token-data-signal-high,
[data-theme="on-brand-glass"] .token-data-battery-high {
  color: #004d33;
}

[data-theme="on-brand-glass"] .token-data-signal-medium,
[data-theme="on-brand-glass"] .token-data-battery-medium {
  color: #664d00;
}

[data-theme="on-brand-glass"] .token-data-signal-low,
[data-theme="on-brand-glass"] .token-data-battery-low {
  color: #a01e2e;
}

/* Token size variants - TIGHT */
.token-sm {
  padding: 0.125rem 0.375rem;
  font-size: 0.625rem;
  gap: 0.1875rem;
}

.token-lg {
  padding: 0.375rem 0.625rem;
  font-size: var(--font-size-sm);
  gap: 0.375rem;
}

/* ============================================
   LIGHT THEME
   ============================================ */
[data-theme="light"] {
  /* Backgrounds - Light theme */
  --color-bg: #f8f9fa;
  --color-bg-elevated: #ffffff;
  --color-surface: #ffffff;
  --color-surface-subtle: #f1f3f5;
  
  /* Borders */
  --color-border-subtle: #dee2e6;
  --color-border-strong: #adb5bd;
  
  /* Primary brand color */
  --color-primary: #4c7dff;
  --color-primary-soft: rgba(76, 125, 255, 0.1);
  --color-primary-hover: #3d6eff;
  --color-primary-strong: #2c57e5;
  
  /* Accent & status colors - Professional palette */
  --color-accent: #f97316;
  --color-danger: #dc3545;
  --color-success: #28a745;
  --color-warning: #ffc107;
  --color-info: #0d6efd;
  
  /* Text colors */
  --color-text: #212529;
  --color-text-muted: #6c757d;
  --color-text-soft: #adb5bd;
  --color-text-on-primary: #ffffff;
  
  /* Tooltip colors - Light theme */
  --color-tooltip-bg: rgba(255, 255, 255, 0.98);
  --color-tooltip-border: var(--color-primary);
  --color-tooltip-text: var(--color-text);
  --color-tooltip-shadow: rgba(0, 0, 0, 0.15);
  
  /* Shadows - lighter for light theme */
  --shadow-soft: 0 2px 8px rgba(0, 0, 0, 0.08);
  --shadow-md: 0 4px 16px rgba(0, 0, 0, 0.12);
  --shadow-strong: 0 8px 32px rgba(0, 0, 0, 0.16);
  --shadow-glow-primary: 0 0 8px rgba(76, 125, 255, 0.15), 0 0 16px rgba(76, 125, 255, 0.06);
  --shadow-glow-accent: 0 0 8px rgba(249, 115, 22, 0.15), 0 0 16px rgba(249, 115, 22, 0.06);
  --shadow-glow-hover: 0 0 12px rgba(76, 125, 255, 0.2), 0 0 24px rgba(76, 125, 255, 0.08);
  
  /* Glow effects - use shadows instead of glows in light mode */
  --glow-primary: 0 2px 8px rgba(0, 0, 0, 0.1);
  --glow-modal: 0 4px 16px rgba(0, 0, 0, 0.12);
  --glow-accent: 0 2px 8px rgba(0, 0, 0, 0.1);
  --glow-strong: 0 8px 32px rgba(0, 0, 0, 0.16);
}

/* Dark theme body override for consistency */
[data-theme="dark"] body {
  background: linear-gradient(135deg, var(--color-bg) 0%, #0f172a 100%);
}

[data-theme="light"] body {
  background: #f8f9fa;
}

[data-theme="light"] .fusion-card {
  backdrop-filter: none;
  -webkit-backdrop-filter: none;
}

/* ============================================
   HIGH CONTRAST THEME (Very Stark)
   ============================================ */
[data-theme="high-contrast"] {
  /* Backgrounds - Pure black/white */
  --color-bg: #000000;
  --color-bg-elevated: #000000;
  --color-surface: #1a1a1a;
  --color-surface-subtle: #2a2a2a;
  
  /* Borders - Very stark */
  --color-border-subtle: #ffffff;
  --color-border-strong: #ffffff;
  border-width: 2px; /* Thicker borders for visibility */
  
  /* Primary brand color - Bright blue */
  --color-primary: #00aaff;
  --color-primary-soft: rgba(0, 170, 255, 0.2);
  --color-primary-hover: #0099ee;
  --color-primary-strong: #0088dd;
  
  /* Accent & status colors - Very bright for maximum contrast */
  --color-accent: #ff6600;
  --color-danger: #ff0000;
  --color-success: #00ff00;
  --color-warning: #ffff00;
  --color-info: #00aaff;
  
  /* Text colors - Pure white/black */
  --color-text: #ffffff;
  --color-text-muted: #ffffff;
  --color-text-soft: #cccccc;
  --color-text-on-primary: #000000;
  
  /* Tooltip colors - High contrast */
  --color-tooltip-bg: #000000;
  --color-tooltip-border: var(--color-primary);
  --color-tooltip-text: #ffffff;
  --color-tooltip-shadow: rgba(255, 255, 255, 0.3);
  
  /* Shadows - Strong for depth */
  --shadow-soft: 0 4px 12px rgba(255, 255, 255, 0.1);
  --shadow-md: 0 8px 24px rgba(255, 255, 255, 0.15);
  --shadow-strong: 0 16px 48px rgba(255, 255, 255, 0.2);
  --shadow-glow-primary: 0 0 12px rgba(0, 170, 255, 0.3), 0 0 24px rgba(0, 170, 255, 0.12);
  --shadow-glow-accent: 0 0 12px rgba(255, 102, 0, 0.3), 0 0 24px rgba(255, 102, 0, 0.12);
  --shadow-glow-hover: 0 0 16px rgba(0, 170, 255, 0.4), 0 0 32px rgba(0, 170, 255, 0.16);
  
  /* Glow effects - Refined for high contrast (still visible but subtle) */
  --glow-primary: 0 0 16px rgba(0, 170, 255, 0.4), 0 0 32px rgba(0, 170, 255, 0.2);
  --glow-modal: 0 0 24px rgba(0, 170, 255, 0.4), 0 0 48px rgba(0, 170, 255, 0.25), 0 0 72px rgba(0, 170, 255, 0.15);
  --glow-accent: 0 0 16px rgba(255, 102, 0, 0.4), 0 0 32px rgba(255, 102, 0, 0.2);
  --glow-strong: 0 0 32px rgba(0, 170, 255, 0.5), 0 0 64px rgba(0, 170, 255, 0.3), 0 0 96px rgba(0, 170, 255, 0.2);
  
  /* Force high contrast on all elements */
  --border-width-thin: 2px;
  --border-width-thick: 3px;
}

/* High contrast specific overrides */
[data-theme="high-contrast"] .fusion-card {
  border: 2px solid var(--color-border-subtle);
  backdrop-filter: none;
  -webkit-backdrop-filter: none;
}

[data-theme="high-contrast"] input,
[data-theme="high-contrast"] select,
[data-theme="high-contrast"] textarea {
  border: 2px solid var(--color-border-subtle) !important;
}

[data-theme="high-contrast"] button {
  border: 2px solid var(--color-border-subtle);
  font-weight: 600;
}

[data-theme="high-contrast"] body {
  background: #000000;
}

/* ============================================
   WARM NIGHT THEME (Dusk/Amber Dark)
   ============================================ */
[data-theme="warm-night"] {
  /* Backgrounds - Warm dark with amber tones */
  --color-bg: #1a0f0a;
  --color-bg-elevated: #2a1810;
  --color-surface: rgba(42, 24, 16, 0.7);
  --color-surface-subtle: rgba(58, 35, 22, 0.5);
  
  /* Borders - Warm amber glow */
  --color-border-subtle: rgba(255, 165, 0, 0.25);
  --color-border-strong: rgba(255, 165, 0, 0.45);
  
  /* Primary brand color - Warm amber/orange */
  --color-primary: #ff8c42;
  --color-primary-soft: rgba(255, 140, 66, 0.2);
  --color-primary-hover: #ffa366;
  --color-primary-strong: #e67e2e;
  
  /* Accent & status colors - Warm palette */
  --color-accent: #ff6b35; /* Warm coral */
  --color-danger: #ff4757; /* Warm red */
  --color-success: #2ed573; /* Warm green */
  --color-warning: #ffa502; /* Bright amber */
  --color-info: #ff8c42;
  
  /* Text colors - Warm whites with slight amber tint */
  --color-text: #fff5e6;
  --color-text-muted: #d4b896;
  --color-text-soft: #b89a7a;
  --color-text-on-primary: #1a0f0a;
  
  /* Tooltip colors - Warm glass morphism */
  --color-tooltip-bg: rgba(42, 24, 16, 0.95);
  --color-tooltip-border: var(--color-primary);
  --color-tooltip-text: var(--color-text);
  --color-tooltip-shadow: rgba(0, 0, 0, 0.5);
  
  /* Shadows - Warm glows */
  --shadow-soft: 0 4px 12px rgba(0, 0, 0, 0.4);
  --shadow-md: 0 12px 30px rgba(0, 0, 0, 0.5);
  --shadow-strong: 0 24px 60px rgba(0, 0, 0, 0.6);
  --shadow-glow-primary: 0 0 12px rgba(255, 140, 66, 0.25), 0 0 24px rgba(255, 140, 66, 0.1);
  --shadow-glow-accent: 0 0 10px rgba(255, 107, 53, 0.2), 0 0 20px rgba(255, 107, 53, 0.08);
  --shadow-glow-hover: 0 0 16px rgba(255, 140, 66, 0.3), 0 0 32px rgba(255, 140, 66, 0.12);
  
  /* Glow effects - Warm amber glows (refined and subtle) */
  --glow-primary: 0 0 12px rgba(255, 140, 66, 0.2), 0 0 24px rgba(255, 140, 66, 0.1);
  --glow-modal: 0 0 24px rgba(255, 140, 66, 0.25), 0 0 48px rgba(255, 140, 66, 0.15), 0 0 72px rgba(255, 140, 66, 0.08);
  --glow-accent: 0 0 16px rgba(255, 107, 53, 0.25), 0 0 32px rgba(255, 107, 53, 0.12);
  --glow-strong: 0 0 32px rgba(255, 140, 66, 0.35), 0 0 64px rgba(255, 140, 66, 0.2), 0 0 96px rgba(255, 140, 66, 0.1);
}

[data-theme="warm-night"] body {
  background: linear-gradient(135deg, var(--color-bg) 0%, #2a1810 50%, #1a0f0a 100%);
}

[data-theme="warm-night"] .fusion-card {
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
}

/* ============================================
   WARM DAY THEME (Sunset/Light Warm)
   ============================================ */
[data-theme="warm-day"] {
  /* Backgrounds - Warm light with cream/peach tones */
  --color-bg: #fef8f3;
  --color-bg-elevated: #ffffff;
  --color-surface: #fff9f5;
  --color-surface-subtle: #f5ede4;
  
  /* Borders - Warm amber/orange */
  --color-border-subtle: rgba(255, 165, 0, 0.2);
  --color-border-strong: rgba(255, 140, 66, 0.4);
  
  /* Primary brand color - Warm amber/orange */
  --color-primary: #ff8c42;
  --color-primary-soft: rgba(255, 140, 66, 0.15);
  --color-primary-hover: #ff7a2e;
  --color-primary-strong: #e67e2e;
  
  /* Accent & status colors - Warm palette */
  --color-accent: #ff6b35; /* Warm coral */
  --color-danger: #e74c3c; /* Warm red */
  --color-success: #27ae60; /* Warm green */
  --color-warning: #f39c12; /* Bright amber */
  --color-info: #ff8c42;
  
  /* Text colors - Warm dark browns */
  --color-text: #2c1810;
  --color-text-muted: #6b4e3d;
  --color-text-soft: #8b6f5e;
  --color-text-on-primary: #ffffff;
  
  /* Tooltip colors - Warm light theme */
  --color-tooltip-bg: rgba(255, 249, 245, 0.98);
  --color-tooltip-border: var(--color-primary);
  --color-tooltip-text: var(--color-text);
  --color-tooltip-shadow: rgba(0, 0, 0, 0.15);
  
  /* Shadows - Warm light shadows */
  --shadow-soft: 0 2px 8px rgba(255, 140, 66, 0.1);
  --shadow-md: 0 4px 16px rgba(255, 140, 66, 0.15);
  --shadow-strong: 0 8px 32px rgba(255, 140, 66, 0.2);
  --shadow-glow-primary: 0 0 8px rgba(255, 140, 66, 0.15), 0 0 16px rgba(255, 140, 66, 0.06);
  --shadow-glow-accent: 0 0 8px rgba(255, 107, 53, 0.15), 0 0 16px rgba(255, 107, 53, 0.06);
  --shadow-glow-hover: 0 0 12px rgba(255, 140, 66, 0.2), 0 0 24px rgba(255, 140, 66, 0.08);
  
  /* Glow effects - Subtle warm glows for light mode (refined) */
  --glow-primary: 0 2px 8px rgba(255, 140, 66, 0.12);
  --glow-modal: 0 4px 16px rgba(255, 140, 66, 0.15);
  --glow-accent: 0 2px 8px rgba(255, 107, 53, 0.12);
  --glow-strong: 0 8px 32px rgba(255, 140, 66, 0.2);
}

[data-theme="warm-day"] body {
  background: linear-gradient(135deg, var(--color-bg) 0%, #fff5eb 50%, #fef8f3 100%);
}

[data-theme="warm-day"] .fusion-card {
  backdrop-filter: none;
  -webkit-backdrop-filter: none;
}

/* ============================================
   GLASS-NEUMORPHISM THEME (Apple-style)
   ============================================ */
[data-theme="glass-neumorphism"] {
  /* Backgrounds - Neutral gray for proper neumorphism */
  --color-bg: #e0e5eb;
  --color-bg-elevated: #e8ecf1;
  --color-surface: #e8ecf1;
  --color-surface-subtle: #f0f3f6;
  
  /* Borders - Remove borders for clean neumorphism */
  --color-border-subtle: transparent;
  --color-border-strong: transparent;
  
  /* Primary brand color - Soft blue (Apple-like) */
  --color-primary: #007aff;
  --color-primary-soft: rgba(0, 122, 255, 0.1);
  --color-primary-hover: #0051d5;
  --color-primary-strong: #0040a8;
  
  /* Accent & status colors - Apple palette */
  --color-accent: #ff9500;
  --color-danger: #ff3b30;
  --color-success: #34c759;
  --color-warning: #ff9500;
  --color-info: #007aff;
  
  /* Text colors - Dark on light */
  --color-text: #1d1d1f;
  --color-text-muted: #6e6e73;
  --color-text-soft: #86868b;
  --color-text-on-primary: #ffffff;
  
  /* Tooltip colors - Clean neumorphism */
  --color-tooltip-bg: #e8ecf1;
  --color-tooltip-border: transparent;
  --color-tooltip-text: var(--color-text);
  --color-tooltip-shadow: rgba(0, 0, 0, 0.1);
  
  /* Shadows - Refined neumorphic soft shadows (balanced) */
  --shadow-soft: 6px 6px 12px rgba(163, 177, 198, 0.6), -6px -6px 12px rgba(255, 255, 255, 0.7);
  --shadow-md: 8px 8px 16px rgba(163, 177, 198, 0.6), -8px -8px 16px rgba(255, 255, 255, 0.7);
  --shadow-strong: 12px 12px 24px rgba(163, 177, 198, 0.6), -12px -12px 24px rgba(255, 255, 255, 0.7);
  --shadow-glow-primary: 0 0 8px rgba(0, 122, 255, 0.1), 0 0 16px rgba(0, 122, 255, 0.04);
  --shadow-glow-accent: 0 0 8px rgba(255, 149, 0, 0.1), 0 0 16px rgba(255, 149, 0, 0.04);
  --shadow-glow-hover: 0 0 12px rgba(0, 122, 255, 0.12), 0 0 24px rgba(0, 122, 255, 0.06);
  
  /* Glow effects - Very subtle for neumorphism (refined) */
  --glow-primary: 0 2px 6px rgba(0, 122, 255, 0.08);
  --glow-modal: 12px 12px 24px rgba(163, 177, 198, 0.6), -12px -12px 24px rgba(255, 255, 255, 0.7);
  --glow-accent: 0 2px 6px rgba(255, 149, 0, 0.08);
  --glow-strong: 16px 16px 32px rgba(163, 177, 198, 0.6), -16px -16px 32px rgba(255, 255, 255, 0.7);
  
  /* Glass & Materiality - Minimal blur for neumorphism */
  --glass-blur: 0px;
  --glass-blur-strong: 0px;
  --glass-opacity: 1;
  --glass-opacity-strong: 1;
  
  /* Neumorphism shadows - Refined and balanced */
  --neumorphism-shadow-inset: inset 3px 3px 6px rgba(163, 177, 198, 0.6), inset -3px -3px 6px rgba(255, 255, 255, 0.7);
  --neumorphism-shadow-outset: 6px 6px 12px rgba(163, 177, 198, 0.6), -6px -6px 12px rgba(255, 255, 255, 0.7);
  --neumorphism-shadow-pressed: inset 4px 4px 8px rgba(163, 177, 198, 0.7), inset -4px -4px 8px rgba(255, 255, 255, 0.6);
  
  /* Acrylic - Not used in neumorphism */
  --acrylic-tint: rgba(255, 255, 255, 0.1);
  --acrylic-tint-dark: rgba(0, 0, 0, 0.1);
  --acrylic-blur: 30px;
  --acrylic-opacity: 0.7;
  
  /* Border radius - More rounded for Apple-style */
  --radius-xs: 6px;
  --radius-sm: 10px;
  --radius-md: 14px;
  --radius-lg: 20px;
  --radius-xl: 28px;
  --radius-2xl: 36px;
  --radius-pill: 999px;
}

[data-theme="glass-neumorphism"] body {
  background: #e0e5eb;
}

[data-theme="glass-neumorphism"] .fusion-card {
  background: var(--color-surface);
  backdrop-filter: none;
  -webkit-backdrop-filter: none;
  box-shadow: var(--neumorphism-shadow-outset);
  border: none;
  border-radius: var(--radius-xl) !important; /* Ensure rounded corners for neumorphism */
}

/* Ensure all rounded elements in neumorphism use theme radius values */
[data-theme="glass-neumorphism"] .rounded-lg {
  border-radius: var(--radius-lg) !important;
}

[data-theme="glass-neumorphism"] .rounded-md {
  border-radius: var(--radius-md) !important;
}

[data-theme="glass-neumorphism"] .rounded-xl {
  border-radius: var(--radius-xl) !important;
}

[data-theme="glass-neumorphism"] .fusion-card:hover {
  box-shadow: var(--shadow-md);
  transform: translateY(-1px);
}

[data-theme="glass-neumorphism"] .fusion-button {
  box-shadow: var(--neumorphism-shadow-outset);
  background: var(--color-surface);
  border: none;
  border-radius: var(--radius-md) !important; /* Ensure rounded corners */
}

[data-theme="glass-neumorphism"] .fusion-button:hover {
  box-shadow: var(--shadow-soft);
}

[data-theme="glass-neumorphism"] .fusion-button:active {
  box-shadow: var(--neumorphism-shadow-pressed);
  transform: translateY(1px);
}

[data-theme="glass-neumorphism"] .fusion-button-primary {
  background: var(--color-primary);
  box-shadow: 0 4px 12px rgba(0, 122, 255, 0.25);
  border: none;
}

[data-theme="glass-neumorphism"] .fusion-button-primary:hover {
  box-shadow: 0 6px 16px rgba(0, 122, 255, 0.35);
  transform: translateY(-1px);
}

/* Input fields - Neumorphic style (subtle depth) */
[data-theme="glass-neumorphism"] input[type="text"],
[data-theme="glass-neumorphism"] input[type="email"],
[data-theme="glass-neumorphism"] input[type="password"],
[data-theme="glass-neumorphism"] input[type="number"],
[data-theme="glass-neumorphism"] input[type="search"],
[data-theme="glass-neumorphism"] textarea,
[data-theme="glass-neumorphism"] select {
  background: var(--color-surface) !important;
  border: none !important;
  border-radius: var(--radius-md) !important;
  box-shadow: inset 2px 2px 4px rgba(163, 177, 198, 0.3), inset -2px -2px 4px rgba(255, 255, 255, 0.5) !important;
  color: var(--color-text) !important;
  /* Only set vertical and right padding, preserve left padding from classes (like pl-10 for icons) */
  padding-top: 0.625rem !important;
  padding-bottom: 0.625rem !important;
  padding-right: 0.875rem !important;
  /* padding-left is NOT set, so Tailwind classes like pl-10 will work */
  transition: all 300ms ease !important;
}

/* Ensure ALL SVG elements are completely protected from neumorphism styling */
[data-theme="glass-neumorphism"] svg,
[data-theme="glass-neumorphism"] svg *,
[data-theme="glass-neumorphism"] path,
[data-theme="glass-neumorphism"] circle,
[data-theme="glass-neumorphism"] rect,
[data-theme="glass-neumorphism"] line {
  box-shadow: none !important;
  background: transparent !important;
  border: none !important;
  appearance: none !important;
  border-radius: 0 !important;
  filter: none !important;
  backdrop-filter: none !important;
  -webkit-backdrop-filter: none !important;
}

[data-theme="glass-neumorphism"] input[type="text"]:focus,
[data-theme="glass-neumorphism"] input[type="email"]:focus,
[data-theme="glass-neumorphism"] input[type="password"]:focus,
[data-theme="glass-neumorphism"] input[type="number"]:focus,
[data-theme="glass-neumorphism"] input[type="search"]:focus,
[data-theme="glass-neumorphism"] textarea:focus,
[data-theme="glass-neumorphism"] select:focus {
  outline: none !important;
  box-shadow: inset 3px 3px 6px rgba(163, 177, 198, 0.4), inset -3px -3px 6px rgba(255, 255, 255, 0.4), 0 0 0 2px rgba(0, 122, 255, 0.15) !important;
  background: var(--color-surface-subtle) !important;
}

[data-theme="glass-neumorphism"] input[type="text"]::placeholder,
[data-theme="glass-neumorphism"] input[type="email"]::placeholder,
[data-theme="glass-neumorphism"] input[type="password"]::placeholder,
[data-theme="glass-neumorphism"] input[type="number"]::placeholder,
[data-theme="glass-neumorphism"] input[type="search"]::placeholder,
[data-theme="glass-neumorphism"] textarea::placeholder {
  color: var(--color-text-soft) !important;
  opacity: 0.7;
}

/* Select dropdowns - Neumorphic style */
[data-theme="glass-neumorphism"] select {
  appearance: none;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%236e6e73' d='M6 9L1 4h10z'/%3E%3C/svg%3E");
  background-repeat: no-repeat;
  background-position: right 0.75rem center;
  padding-right: 2.5rem !important;
}

/* Checkboxes and radio buttons - Neumorphic style */
[data-theme="glass-neumorphism"] input[type="checkbox"],
[data-theme="glass-neumorphism"] input[type="radio"] {
  width: 1.25rem;
  height: 1.25rem;
  appearance: none;
  background: var(--color-surface) !important;
  border: none !important;
  border-radius: var(--radius-sm) !important;
  box-shadow: inset 2px 2px 4px rgba(163, 177, 198, 0.3), inset -2px -2px 4px rgba(255, 255, 255, 0.5) !important;
  cursor: pointer;
  transition: all 300ms ease !important;
  position: relative;
}

[data-theme="glass-neumorphism"] input[type="checkbox"]:checked,
[data-theme="glass-neumorphism"] input[type="radio"]:checked {
  background: var(--color-primary) !important;
  box-shadow: inset 2px 2px 4px rgba(0, 0, 0, 0.2), 0 0 0 2px rgba(0, 122, 255, 0.15) !important;
}

[data-theme="glass-neumorphism"] input[type="checkbox"]:checked::before {
  content: 'âœ“';
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  color: white;
  font-size: 0.75rem;
  font-weight: bold;
}

[data-theme="glass-neumorphism"] input[type="radio"] {
  border-radius: 50% !important;
}

[data-theme="glass-neumorphism"] input[type="radio"]:checked::before {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 0.5rem;
  height: 0.5rem;
  border-radius: 50%;
  background: white;
}

/* ============================================
   BUSINESS FLUENT THEME (Windows-style)
   ============================================ */
[data-theme="business-fluent"] {
  /* Backgrounds - Professional dark with acrylic */
  --color-bg: #202020;
  --color-bg-elevated: #2d2d2d;
  --color-surface: rgba(45, 45, 45, 0.8);
  --color-surface-subtle: rgba(60, 60, 60, 0.6);
  
  /* Borders - Subtle, structured */
  --color-border-subtle: rgba(255, 255, 255, 0.1);
  --color-border-strong: rgba(255, 255, 255, 0.2);
  
  /* Primary brand color - Fluent blue */
  --color-primary: #0078d4;
  --color-primary-soft: rgba(0, 120, 212, 0.2);
  --color-primary-hover: #106ebe;
  --color-primary-strong: #005a9e;
  
  /* Accent & status colors - Fluent palette */
  --color-accent: #8764b8;
  --color-danger: #d13438;
  --color-success: #107c10;
  --color-warning: #ffb900;
  --color-info: #0078d4;
  
  /* Text colors - High contrast for readability */
  --color-text: #ffffff;
  --color-text-muted: #c0c0c0;
  --color-text-soft: #a0a0a0;
  --color-text-on-primary: #ffffff;
  
  /* Tooltip colors - Acrylic material */
  --color-tooltip-bg: rgba(45, 45, 45, 0.95);
  --color-tooltip-border: var(--color-primary);
  --color-tooltip-text: var(--color-text);
  --color-tooltip-shadow: rgba(0, 0, 0, 0.4);
  
  /* Shadows - Structured, geometric */
  --shadow-soft: 0 2px 8px rgba(0, 0, 0, 0.3);
  --shadow-md: 0 4px 16px rgba(0, 0, 0, 0.4);
  --shadow-strong: 0 8px 32px rgba(0, 0, 0, 0.5);
  --shadow-glow-primary: 0 0 10px rgba(0, 120, 212, 0.25), 0 0 20px rgba(0, 120, 212, 0.1);
  --shadow-glow-accent: 0 0 10px rgba(135, 100, 184, 0.25), 0 0 20px rgba(135, 100, 184, 0.1);
  --shadow-glow-hover: 0 0 14px rgba(0, 120, 212, 0.3), 0 0 28px rgba(0, 120, 212, 0.12);
  
  /* Glow effects - Subtle for professional look (refined) */
  --glow-primary: 0 0 10px rgba(0, 120, 212, 0.2), 0 0 20px rgba(0, 120, 212, 0.08);
  --glow-modal: 0 8px 32px rgba(0, 0, 0, 0.5), 0 0 0 1px rgba(255, 255, 255, 0.1);
  --glow-accent: 0 0 10px rgba(135, 100, 184, 0.2), 0 0 20px rgba(135, 100, 184, 0.08);
  --glow-strong: 0 12px 48px rgba(0, 0, 0, 0.6);
  
  /* Glass & Materiality - Acrylic effects */
  --glass-blur: 40px;
  --glass-blur-strong: 60px;
  --glass-opacity: 0.8;
  --glass-opacity-strong: 0.9;
  
  /* Neumorphism - Not used in Fluent */
  --neumorphism-shadow-inset: inset 2px 2px 4px rgba(0, 0, 0, 0.2);
  --neumorphism-shadow-outset: 0 2px 8px rgba(0, 0, 0, 0.3);
  --neumorphism-shadow-pressed: inset 2px 2px 4px rgba(0, 0, 0, 0.3);
  
  /* Acrylic - Strong for Fluent design */
  --acrylic-tint: rgba(255, 255, 255, 0.15);
  --acrylic-tint-dark: rgba(0, 0, 0, 0.2);
  --acrylic-blur: 40px;
  --acrylic-opacity: 0.8;
  
  /* Border radius - More geometric, less rounded for Windows-style */
  --radius-xs: 2px;
  --radius-sm: 4px;
  --radius-md: 6px;
  --radius-lg: 8px;
  --radius-xl: 10px;
  --radius-2xl: 12px;
  --radius-pill: 999px;
}

[data-theme="business-fluent"] body {
  background: linear-gradient(135deg, var(--color-bg) 0%, #1a1a1a 50%, var(--color-bg) 100%);
}

[data-theme="business-fluent"] .fusion-card {
  background: linear-gradient(135deg, var(--color-surface) 0%, var(--acrylic-tint) 100%);
  backdrop-filter: blur(var(--acrylic-blur)) saturate(180%);
  -webkit-backdrop-filter: blur(var(--acrylic-blur)) saturate(180%);
  box-shadow: var(--shadow-md);
  border: 1px solid var(--color-border-subtle);
  position: relative;
}

[data-theme="business-fluent"] .fusion-card::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: var(--acrylic-tint);
  opacity: 0.5;
  pointer-events: none;
  border-radius: inherit;
}

[data-theme="business-fluent"] .fusion-card:hover {
  box-shadow: var(--shadow-strong);
  border-color: var(--color-primary);
  transform: translateY(-1px);
}

[data-theme="business-fluent"] .fusion-button {
  background: var(--color-surface);
  backdrop-filter: blur(var(--acrylic-blur));
  -webkit-backdrop-filter: blur(var(--acrylic-blur));
  box-shadow: var(--shadow-soft);
  border: 1px solid var(--color-border-subtle);
}

[data-theme="business-fluent"] .fusion-button:hover {
  background: var(--color-surface-subtle);
  box-shadow: var(--shadow-md);
}

[data-theme="business-fluent"] .fusion-button-primary {
  background: var(--color-primary);
  box-shadow: var(--shadow-glow-primary);
  border: none;
}

[data-theme="business-fluent"] .fusion-button-primary:hover {
  background: var(--color-primary-hover);
  box-shadow: var(--shadow-glow-hover);
  transform: translateY(-1px);
}

/* ============================================
   ON BRAND THEME (i2Systems-style)
   ============================================ */
[data-theme="on-brand"] {
  /* Backgrounds - Dark, clean base */
  --color-bg: #0a0a0f;
  --color-bg-elevated: #14141f;
  --color-surface: rgba(20, 20, 31, 0.85);
  --color-surface-subtle: rgba(30, 30, 45, 0.6);
  
  /* Borders - Subtle with purple hints */
  --color-border-subtle: rgba(147, 51, 234, 0.25);
  --color-border-strong: rgba(147, 51, 234, 0.5);
  
  /* Primary brand color - Vibrant Purple (i2Systems style) */
  --color-primary: #9333ea;
  --color-primary-soft: rgba(147, 51, 234, 0.25);
  --color-primary-hover: #a855f7;
  --color-primary-strong: #7e22ce;
  
  /* Accent & status colors - Purple-based palette */
  --color-accent: #c084fc;
  --color-danger: #ef4444;
  --color-success: #10b981;
  --color-warning: #f59e0b;
  --color-info: #9333ea;
  
  /* Text colors - White for readability on dark */
  --color-text: #ffffff;
  --color-text-muted: #cbd5e1;
  --color-text-soft: #94a3b8;
  --color-text-on-primary: #ffffff;
  
  /* Tooltip colors - Dark with purple border */
  --color-tooltip-bg: rgba(20, 20, 31, 0.95);
  --color-tooltip-border: var(--color-primary);
  --color-tooltip-text: var(--color-text);
  --color-tooltip-shadow: rgba(0, 0, 0, 0.5);
  
  /* Shadows - Soft with vibrant purple glow */
  --shadow-soft: 0 4px 12px rgba(0, 0, 0, 0.4);
  --shadow-md: 0 12px 30px rgba(0, 0, 0, 0.5);
  --shadow-strong: 0 24px 60px rgba(0, 0, 0, 0.6);
  --shadow-glow-primary: 0 0 12px rgba(147, 51, 234, 0.3), 0 0 24px rgba(147, 51, 234, 0.15);
  --shadow-glow-accent: 0 0 10px rgba(192, 132, 252, 0.25), 0 0 20px rgba(192, 132, 252, 0.1);
  --shadow-glow-hover: 0 0 16px rgba(147, 51, 234, 0.35), 0 0 32px rgba(147, 51, 234, 0.18);
  
  /* Glow effects - Vibrant purple neon matching main objects (refined and subtle) */
  --glow-primary: 0 0 12px rgba(147, 51, 234, 0.25), 0 0 24px rgba(147, 51, 234, 0.15), 0 0 36px rgba(147, 51, 234, 0.08);
  --glow-modal: 0 0 24px rgba(147, 51, 234, 0.3), 0 0 48px rgba(147, 51, 234, 0.2), 0 0 72px rgba(147, 51, 234, 0.12);
  --glow-accent: 0 0 16px rgba(192, 132, 252, 0.3), 0 0 32px rgba(192, 132, 252, 0.15);
  --glow-strong: 0 0 32px rgba(147, 51, 234, 0.4), 0 0 64px rgba(147, 51, 234, 0.25), 0 0 96px rgba(147, 51, 234, 0.15);
  
  /* Glass & Materiality - Subtle glass morphism */
  --glass-blur: 20px;
  --glass-blur-strong: 40px;
  --glass-opacity: 0.85;
  --glass-opacity-strong: 0.9;
  
  /* Neumorphism - Not used */
  --neumorphism-shadow-inset: inset 2px 2px 4px rgba(0, 0, 0, 0.2);
  --neumorphism-shadow-outset: 0 2px 8px rgba(0, 0, 0, 0.3);
  --neumorphism-shadow-pressed: inset 2px 2px 4px rgba(0, 0, 0, 0.3);
  
  /* Acrylic - Subtle for clean look with purple tint */
  --acrylic-tint: rgba(147, 51, 234, 0.15);
  --acrylic-tint-dark: rgba(0, 0, 0, 0.2);
  --acrylic-blur: 20px;
  --acrylic-opacity: 0.85;
  
  /* Border radius - Modern, rounded */
  --radius-xs: 4px;
  --radius-sm: 6px;
  --radius-md: 8px;
  --radius-lg: 12px;
  --radius-xl: 18px;
  --radius-2xl: 24px;
  --radius-pill: 999px;
}

[data-theme="on-brand"] body {
  background: linear-gradient(135deg, var(--color-bg) 0%, #0f0f1a 50%, var(--color-bg) 100%);
}

[data-theme="on-brand"] .fusion-card {
  background: var(--color-surface);
  backdrop-filter: blur(var(--glass-blur));
  -webkit-backdrop-filter: blur(var(--glass-blur));
  box-shadow: var(--shadow-soft);
  border: 1px solid var(--color-border-subtle);
}

[data-theme="on-brand"] .fusion-card:hover {
  border-color: var(--color-primary);
  box-shadow: var(--shadow-glow-primary);
}

[data-theme="on-brand"] .fusion-button {
  background: var(--color-surface-subtle);
  border: 1px solid var(--color-border-subtle);
  color: var(--color-text);
}

[data-theme="on-brand"] .fusion-button:hover {
  background: var(--color-surface);
  border-color: var(--color-primary);
  box-shadow: var(--shadow-glow-primary);
}

[data-theme="on-brand"] .fusion-button-primary {
  background: var(--color-primary);
  border-color: var(--color-primary);
  color: var(--color-text-on-primary);
  box-shadow: var(--shadow-glow-primary);
}

[data-theme="on-brand"] .fusion-button-primary:hover {
  background: var(--color-primary-hover);
  box-shadow: var(--shadow-glow-hover);
}

/* ============================================
   ON BRAND GLASS THEME (Light mode with Apple glass)
   ============================================ */
[data-theme="on-brand-glass"] {
  /* Backgrounds - Light with subtle gradients */
  --color-bg: #f5f5f7;
  --color-bg-elevated: #ffffff;
  --color-surface: rgba(255, 255, 255, 0.7);
  --color-surface-subtle: rgba(255, 255, 255, 0.5);
  
  /* Borders - Subtle with purple hints */
  --color-border-subtle: rgba(147, 51, 234, 0.15);
  --color-border-strong: rgba(147, 51, 234, 0.3);
  
  /* Primary brand color - Vibrant Purple (same as on-brand) */
  --color-primary: #9333ea;
  --color-primary-soft: rgba(147, 51, 234, 0.15);
  --color-primary-hover: #a855f7;
  --color-primary-strong: #7e22ce;
  
  /* Accent & status colors - Purple-based palette */
  --color-accent: #c084fc;
  --color-danger: #ef4444;
  --color-success: #10b981;
  --color-warning: #f59e0b;
  --color-info: #9333ea;
  
  /* Text colors - Dark for readability on light */
  --color-text: #1d1d1f;
  --color-text-muted: #6e6e73;
  --color-text-soft: #86868b;
  --color-text-on-primary: #ffffff;
  
  /* Tooltip colors - Glass with purple border */
  --color-tooltip-bg: rgba(255, 255, 255, 0.95);
  --color-tooltip-border: var(--color-primary);
  --color-tooltip-text: var(--color-text);
  --color-tooltip-shadow: rgba(0, 0, 0, 0.15);
  
  /* Shadows - Soft with purple glow */
  --shadow-soft: 0 2px 8px rgba(0, 0, 0, 0.08), 0 1px 3px rgba(0, 0, 0, 0.05);
  --shadow-md: 0 8px 24px rgba(0, 0, 0, 0.12), 0 4px 8px rgba(0, 0, 0, 0.08);
  --shadow-strong: 0 16px 48px rgba(0, 0, 0, 0.15), 0 8px 16px rgba(0, 0, 0, 0.1);
  --shadow-glow-primary: 0 0 12px rgba(147, 51, 234, 0.25), 0 0 24px rgba(147, 51, 234, 0.12);
  --shadow-glow-accent: 0 0 10px rgba(192, 132, 252, 0.2), 0 0 20px rgba(192, 132, 252, 0.08);
  --shadow-glow-hover: 0 0 16px rgba(147, 51, 234, 0.3), 0 0 32px rgba(147, 51, 234, 0.15);
  
  /* Glow effects - Vibrant purple neon (refined and subtle) */
  --glow-primary: 0 0 12px rgba(147, 51, 234, 0.2), 0 0 24px rgba(147, 51, 234, 0.1);
  --glow-modal: 0 0 24px rgba(147, 51, 234, 0.25), 0 0 48px rgba(147, 51, 234, 0.15), 0 0 72px rgba(147, 51, 234, 0.08);
  --glow-accent: 0 0 16px rgba(192, 132, 252, 0.25), 0 0 32px rgba(192, 132, 252, 0.12);
  --glow-strong: 0 0 32px rgba(147, 51, 234, 0.3), 0 0 64px rgba(147, 51, 234, 0.2), 0 0 96px rgba(147, 51, 234, 0.1);
  
  /* Glass & Materiality - Apple-style heavy blur and saturation */
  --glass-blur: 40px;
  --glass-blur-strong: 60px;
  --glass-opacity: 0.7;
  --glass-opacity-strong: 0.85;
  
  /* Neumorphism - Not used */
  --neumorphism-shadow-inset: inset 2px 2px 4px rgba(0, 0, 0, 0.05);
  --neumorphism-shadow-outset: 0 2px 8px rgba(0, 0, 0, 0.08);
  --neumorphism-shadow-pressed: inset 2px 2px 4px rgba(0, 0, 0, 0.1);
  
  /* Acrylic - Apple-style with saturation boost */
  --acrylic-tint: rgba(255, 255, 255, 0.8);
  --acrylic-tint-dark: rgba(0, 0, 0, 0.05);
  --acrylic-blur: 40px;
  --acrylic-opacity: 0.7;
  
  /* Border radius - Modern, rounded */
  --radius-xs: 6px;
  --radius-sm: 8px;
  --radius-md: 12px;
  --radius-lg: 16px;
  --radius-xl: 20px;
  --radius-2xl: 28px;
  --radius-pill: 999px;
}

[data-theme="on-brand-glass"] body {
  background: linear-gradient(135deg, #f5f5f7 0%, #ffffff 25%, #fafafa 50%, #ffffff 75%, #f5f5f7 100%);
  background-attachment: fixed;
}

[data-theme="on-brand-glass"] .fusion-card {
  background: rgba(255, 255, 255, 0.7);
  backdrop-filter: blur(40px) saturate(180%);
  -webkit-backdrop-filter: blur(40px) saturate(180%);
  box-shadow: 
    0 8px 32px rgba(0, 0, 0, 0.08),
    0 2px 8px rgba(0, 0, 0, 0.04),
    inset 0 1px 0 rgba(255, 255, 255, 0.9);
  border: 1px solid rgba(255, 255, 255, 0.8);
  position: relative;
}

[data-theme="on-brand-glass"] .fusion-card::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  border-radius: inherit;
  padding: 1px;
  background: linear-gradient(135deg, rgba(147, 51, 234, 0.1), rgba(192, 132, 252, 0.05));
  -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
  -webkit-mask-composite: xor;
  mask-composite: exclude;
  pointer-events: none;
}

[data-theme="on-brand-glass"] .fusion-card:hover {
  background: rgba(255, 255, 255, 0.85);
  border-color: rgba(147, 51, 234, 0.3);
  box-shadow: 
    0 12px 48px rgba(147, 51, 234, 0.15),
    0 4px 16px rgba(147, 51, 234, 0.1),
    inset 0 1px 0 rgba(255, 255, 255, 0.95);
  transform: translateY(-2px);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

[data-theme="on-brand-glass"] .fusion-button {
  background: rgba(255, 255, 255, 0.6);
  backdrop-filter: blur(20px) saturate(180%);
  -webkit-backdrop-filter: blur(20px) saturate(180%);
  border: 1px solid rgba(147, 51, 234, 0.2);
  color: var(--color-text);
  box-shadow: 
    0 2px 8px rgba(0, 0, 0, 0.06),
    inset 0 1px 0 rgba(255, 255, 255, 0.8);
}

[data-theme="on-brand-glass"] .fusion-button:hover {
  background: rgba(255, 255, 255, 0.8);
  border-color: var(--color-primary);
  box-shadow: 
    0 4px 16px rgba(147, 51, 234, 0.2),
    0 0 20px rgba(147, 51, 234, 0.15),
    inset 0 1px 0 rgba(255, 255, 255, 0.9);
  transform: translateY(-1px);
}

[data-theme="on-brand-glass"] .fusion-button-primary {
  background: linear-gradient(135deg, var(--color-primary) 0%, var(--color-primary-hover) 100%);
  border: none;
  color: var(--color-text-on-primary);
  box-shadow: 
    0 4px 20px rgba(147, 51, 234, 0.4),
    0 0 40px rgba(147, 51, 234, 0.2),
    inset 0 1px 0 rgba(255, 255, 255, 0.3);
}

[data-theme="on-brand-glass"] .fusion-button-primary:hover {
  background: linear-gradient(135deg, var(--color-primary-hover) 0%, #b472f8 100%);
  box-shadow: 
    0 6px 24px rgba(147, 51, 234, 0.5),
    0 0 50px rgba(147, 51, 234, 0.3),
    inset 0 1px 0 rgba(255, 255, 255, 0.4);
  transform: translateY(-1px);
}

/* Input fields with glass effect */
[data-theme="on-brand-glass"] input[type="text"],
[data-theme="on-brand-glass"] input[type="email"],
[data-theme="on-brand-glass"] input[type="password"],
[data-theme="on-brand-glass"] input[type="number"],
[data-theme="on-brand-glass"] input[type="search"],
[data-theme="on-brand-glass"] textarea,
[data-theme="on-brand-glass"] select {
  background: rgba(255, 255, 255, 0.6);
  backdrop-filter: blur(20px) saturate(180%);
  -webkit-backdrop-filter: blur(20px) saturate(180%);
  border: 1px solid rgba(147, 51, 234, 0.15);
  box-shadow: 
    0 2px 8px rgba(0, 0, 0, 0.04),
    inset 0 1px 0 rgba(255, 255, 255, 0.8);
}

[data-theme="on-brand-glass"] input[type="text"]:focus,
[data-theme="on-brand-glass"] input[type="email"]:focus,
[data-theme="on-brand-glass"] input[type="password"]:focus,
[data-theme="on-brand-glass"] input[type="number"]:focus,
[data-theme="on-brand-glass"] input[type="search"]:focus,
[data-theme="on-brand-glass"] textarea:focus,
[data-theme="on-brand-glass"] select:focus {
  background: rgba(255, 255, 255, 0.85);
  border-color: var(--color-primary);
  box-shadow: 
    0 0 0 3px rgba(147, 51, 234, 0.1),
    0 4px 16px rgba(147, 51, 234, 0.2),
    inset 0 1px 0 rgba(255, 255, 255, 0.9);
  outline: none;
}

/* Search Island - Glows in dark mode, shadows in light mode */
.search-island {
  box-shadow: var(--glow-primary);
}

[data-theme="light"] .search-island {
  box-shadow: var(--glow-primary);
  border-color: var(--color-border-subtle);
}

/* ============================================
   SEARCH ISLAND COLLAPSED STATE
   ============================================ */
/* When search island is collapsed, reduce bottom padding on main content areas */
/* Account for collapsed search island (~50px) + bottom drawer (48px) + buffer */
[data-search-collapsed="true"] .main-content-area {
  padding-bottom: 7rem !important; /* 112px - enough for collapsed island + drawer + buffer */
}

/* Smooth transition for padding changes */
.main-content-area {
  transition: padding-bottom 300ms ease;
}

/* Notification card animations */
@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Masonry grid for notifications */
.notifications-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
  grid-auto-rows: min-content;
  gap: 1rem;
}

@media (min-width: 768px) {
  .notifications-grid {
    grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
  }
}

@media (min-width: 1024px) {
  .notifications-grid {
    grid-template-columns: repeat(auto-fill, minmax(340px, 1fr));
  }
}
